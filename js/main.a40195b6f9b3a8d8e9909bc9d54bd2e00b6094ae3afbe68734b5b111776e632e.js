(()=>{console.log("This site was generated by Hugo.");document.addEventListener("DOMContentLoaded",()=>{let N=Array.from(document.querySelectorAll("[data-upvote]"));if(N.length){let n={value:!1},t=Date.now(),b=()=>{n.value=!0};document.addEventListener("mousemove",b,{once:!0}),document.addEventListener("touchmove",b,{once:!0}),N.forEach(o=>{let S=o.getAttribute("data-slug"),f=o.getAttribute("data-endpoint"),x=o.getAttribute("data-info-endpoint"),v=o.getAttribute("data-upvoted-title")||"",w=o.querySelector("form"),d=o.querySelector(".upvote-button"),L=o.querySelector(".upvote-count");if(!S||!f||!x||!w||!d||!L)return;let T=({upvote_count:m,upvoted:h})=>{typeof m=="number"&&(L.textContent=m.toString(),d.classList.remove("upvote-button--cool","upvote-button--warm","upvote-button--hot"),m>=100?d.classList.add("upvote-button--hot"):m>=10?d.classList.add("upvote-button--warm"):d.classList.add("upvote-button--cool")),h&&(d.disabled=!0,d.classList.add("upvote-button--active"),v&&(d.title=v))},C=m=>{let h=w.querySelector(`input[name="${m}"]`);return h&&typeof h.value=="string"?h.value:""},e=C("title"),r=C("permalink"),u=C("dateISO"),c=new URL(x,window.location.origin);c.searchParams.set("slug",S),e&&c.searchParams.set("title",e),r&&c.searchParams.set("permalink",r),u&&c.searchParams.set("dateISO",u),fetch(c.toString(),{credentials:"include"}).then(m=>m.ok?m.json():null).then(m=>{m&&T(m)}).catch(()=>{}),w.addEventListener("submit",m=>{m.preventDefault(),!d.disabled&&(!n.value||Date.now()-t<2e3||fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:S,title:e,permalink:r,dateISO:u}),credentials:"include"}).then(h=>h.ok?h.json():null).then(h=>{if(h)if(T(h),typeof h.upvote_count=="number")L.textContent=h.upvote_count.toString();else{let s=parseInt(L.textContent||"0",10)||0;L.textContent=String(s+1)}}).catch(()=>{}))})})}let R=document.querySelector("[data-nav-toggle]"),U=document.querySelector("[data-nav]");R&&U&&R.addEventListener("click",()=>{let n=U.classList.toggle("is-open");R.setAttribute("aria-expanded",n?"true":"false")});let D=document.querySelector(".toc-dropdown");D&&D.addEventListener("click",n=>{let t=n.target;t&&t.tagName==="A"&&(D.open=!1)});let O=document.getElementById("archive-search"),P=document.getElementById("archive-groups"),F=document.getElementById("archive-results");if(O&&F){let n=null,t=null,b=O.getAttribute("data-index-url")||"/index.json",o=O.getAttribute("data-no-results")||"No results",S="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0",f=e=>String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),x=({item:e,matches:r},u)=>{let c=new Set,m=String(u||"").trim().toLowerCase(),h=m.length?m.split(/\s+/).filter(Boolean):[],s=y=>{let p=String(y||"").trim();return!p||p==="```"?"":(p=p.replace(/^#{1,6}\s+/,"").replace(/^\s*([-*+]|\d+\.)\s+/,"").replace(/^>\s+/,"").replace(/!\[([^\]]*)\]\([^)]+\)/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/`([^`]+)`/g,"$1").trim(),p)},E=typeof e.content=="string"?e.content.replace(/\r\n/g,`
`):"",j=typeof e.summary=="string"?e.summary.replace(/\r\n/g,`
`):"";return(Array.isArray(r)?r:[]).filter(y=>y&&y.key==="content"&&Array.isArray(y.indices)).forEach(y=>{let p=typeof y.value=="string"?y.value.replace(/\r\n/g,`
`):E;p&&y.indices.forEach(k=>{if(!Array.isArray(k)||k.length<2)return;let $=k[0],H=k[1];if(typeof $!="number"||typeof H!="number")return;let i=p.lastIndexOf(`
`,$),l=i===-1?0:i+1,g=p.indexOf(`
`,H+1),A=g===-1?p.length:g,a=s(p.slice(l,A));a&&c.add(a)})}),c.size===0&&E&&h.length&&E.split(/\n+/).forEach(y=>{let p=s(y);if(!p)return;let k=p.toLowerCase();h.every($=>k.includes($))&&c.add(p)}),c.size===0&&j&&h.length&&j.split(/\n+/).forEach(y=>{let p=s(y);if(!p)return;let k=p.toLowerCase();h.every($=>k.includes($))&&c.add(p)}),Array.from(c)},v=(e,r)=>{if(!Array.isArray(e))return;if(e.length===0){F.innerHTML=`<p class="text-[var(--color-muted)]">${f(o)}</p>`;return}let u=e.map(s=>({item:s&&s.item?s.item:s,matches:s&&Array.isArray(s.matches)?s.matches:[]})).filter(s=>s.item),c=new Map;u.forEach(s=>{let E=s.item.year||(typeof s.item.dateISO=="string"?s.item.dateISO.slice(0,4):"");c.has(E)||c.set(E,[]),c.get(E).push(s)});let h=Array.from(c.keys()).filter(Boolean).sort((s,E)=>(Number(E)||0)-(Number(s)||0)).map(s=>{let E=c.get(s)||[];E.sort((I,M)=>String(M.item.dateISO||"").localeCompare(String(I.item.dateISO||"")));let j=E.map(I=>{let M=I.item.title||"",y=I.item.dateShort||I.item.date||"",p=I.item.dateISO||"",k=I.item.permalink||"#",$=x(I,r),H=$.length?`
              <div class="flex gap-4 mt-1">
                <span aria-hidden="true" class="text-sm text-[var(--color-muted)] font-mono shrink-0 opacity-0">${f(y)}</span>
                <div>
                  ${$.map(i=>`<p class="text-sm text-[var(--color-muted)] font-mono break-all">${f(i)}</p>`).join("")}
                </div>
              </div>
            `:"";return`
            <li>
              <div class="flex gap-4 items-baseline">
                <time class="text-sm text-[var(--color-muted)] font-mono shrink-0" datetime="${f(p)}">
                  ${f(y)}
                </time>
                <a href="${f(k)}" class="hover:text-[var(--color-accent)] transition-colors truncate">
                  ${f(M)}
                </a>
              </div>
              ${H}
            </li>
          `}).join("");return`
          <div class="mb-8">
            <h2 class="text-xl font-semibold mb-4 text-[var(--color-muted)]">${f(s)}</h2>
            <ul class="space-y-2">
              ${j}
            </ul>
          </div>
        `}).join("");F.innerHTML=h},w=()=>{P&&(P.hidden=!1),F.hidden=!0},d=()=>{P&&(P.hidden=!0),F.hidden=!1};O.setAttribute("role","search");let L=e=>{let r=document.querySelector(`script[src="${e}"]`);return r?window.Fuse?Promise.resolve():new Promise((u,c)=>{r.addEventListener("load",()=>u(),{once:!0}),r.addEventListener("error",()=>c(new Error(`Failed to load ${e}`)),{once:!0})}):new Promise((u,c)=>{let m=document.createElement("script");m.src=e,m.defer=!0,m.onload=()=>u(),m.onerror=()=>c(new Error(`Failed to load ${e}`)),document.head.appendChild(m)})},T=async()=>{if(window.Fuse)return window.Fuse;try{await L(S)}catch{return null}return window.Fuse||null},C=async()=>{if(n)return n;if(!t)try{let u=await fetch(b);if(!u.ok)return null;t=await u.json()}catch{return null}if(!Array.isArray(t))return null;let e=await T();if(!e)return null;let r={includeScore:!0,includeMatches:!0,findAllMatches:!0,ignoreLocation:!0,minMatchCharLength:2,threshold:.3,keys:[{name:"title",weight:2},{name:"summary",weight:1},{name:"tags",weight:.5},{name:"categories",weight:.5},{name:"content",weight:.25}]};return n=new e(t,r),n};O.addEventListener("focus",()=>{C()},{once:!0}),O.addEventListener("input",async e=>{let r=(e.target.value||"").trim();if(r.length===0){w();return}let u=await C();if(!u)return;let c=u.search(r).slice(0,50);v(c,r),d()}),P||(F.hidden=!0)}(()=>{let n=document.querySelector("main");if(!n||!n.querySelector("a[data-pswp-width], a.lightbox-image, img"))return;let t="https://cdn.jsdelivr.net/npm/photoswipe@5/dist/photoswipe.css",b="https://cdn.jsdelivr.net/npm/photoswipe@5/dist/photoswipe-lightbox.esm.min.js",o="https://cdn.jsdelivr.net/npm/photoswipe@5/dist/photoswipe.esm.min.js",S=w=>{if(document.querySelector(`link[rel="stylesheet"][href="${w}"]`))return;let d=document.createElement("link");d.rel="stylesheet",d.href=w,document.head.appendChild(d)},f=(w,d)=>new Promise(L=>{let T=d&&d.naturalWidth||0,C=d&&d.naturalHeight||0;if(T>0&&C>0){L({width:T,height:C});return}let e=new Image;e.onload=()=>{L({width:e.naturalWidth||1600,height:e.naturalHeight||900})},e.onerror=()=>L({width:1600,height:900}),e.src=w}),x=null,v=async()=>x||(x=(async()=>{try{S(t);let{default:w}=await import(b),d=()=>import(o);new w({gallery:"main",children:"a[data-pswp-width]",wheelToZoom:!0,pswpModule:d}).init();let T=new w({wheelToZoom:!0,pswpModule:d});T.init(),Array.from(n.querySelectorAll("a.lightbox-image:not([data-pswp-width])")).map(r=>({a:r,img:r.querySelector("img")})).filter(r=>r.img).forEach(({a:r,img:u})=>{r.style.cursor="zoom-in",r.addEventListener("click",async c=>{c.preventDefault();let m=r.getAttribute("href"),h=await f(m,u);T.loadAndOpen(0,[{src:m,width:h.width,height:h.height,alt:u.alt||""}])})}),Array.from(n.querySelectorAll("img:not(a img)")).forEach(r=>{r.style.cursor="zoom-in",r.addEventListener("click",async()=>{let u=r.currentSrc||r.src,c=await f(u,r);T.loadAndOpen(0,[{src:u,width:c.width,height:c.height,alt:r.alt||""}])})})}catch{}})(),x);typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{v()},{timeout:2e3}):setTimeout(()=>{v()},300)})(),document.addEventListener("click",async n=>{let t=n.target.closest("[data-copy-code]");if(!t)return;let b=t.closest(".codeblock");if(!b)return;let o=b.querySelector(".highlight pre");if(o)try{let S=o.textContent||"";await navigator.clipboard.writeText(S);let f=t.getAttribute("data-copied-text")||"COPIED",x=t.getAttribute("data-copied-title")||f;if(t.hasAttribute("data-icon-button")){let v=t.getAttribute("data-original-title")||t.title||"";t.hasAttribute("data-original-title")||t.setAttribute("data-original-title",v),t.classList.add("is-copied"),t.title=x,setTimeout(()=>{t.classList.remove("is-copied"),t.title=t.getAttribute("data-original-title")||v},1200)}else{let v=t.textContent;t.textContent=f,setTimeout(()=>{t.textContent=v},1200)}}catch{}}),document.addEventListener("click",n=>{let t=n.target.closest("[data-wrap-toggle]");if(!t)return;let b=t.closest(".codeblock");if(!b)return;let o=b.classList.toggle("wrapped");t.setAttribute("aria-pressed",o?"true":"false");let S=t.getAttribute("data-wrap-text")||"WRAP",f=t.getAttribute("data-nowrap-text")||"NOWRAP",x=t.getAttribute("data-wrap-title")||S,v=t.getAttribute("data-nowrap-title")||f;t.hasAttribute("data-icon-button")?(t.classList.toggle("is-active",o),t.title=o?v:x):t.textContent=o?f:S});let z=document.querySelector("[data-theme-toggle]");if(z){let n=document.documentElement,t=o=>{n.setAttribute("data-theme",o),localStorage.setItem("theme",o)},b=n.getAttribute("data-theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");t(b),z.addEventListener("click",()=>{let o=n.getAttribute("data-theme")==="dark"?"light":"dark";t(o);try{window.dispatchEvent(new Event("themechange"))}catch{}})}(()=>{let n=document.getElementById("tags"),t=document.querySelector("ul.blog-posts[data-tag-filter]"),b=document.getElementById("tag-filters");if(!n||!t)return;let o=document.getElementById("blog-search"),S=o&&o.getAttribute("data-index-url")||"/index.json",f=o&&o.getAttribute("data-no-results")||"No results",x="https://cdn.jsdelivr.net/npm/fuse.js@7.0.0",v=null,w=null,d=n.getAttribute("data-base")||window.location.pathname,L=n.getAttribute("data-filtering-for")||"Filtering for:",T=n.getAttribute("data-remove-all")||"Remove all filters",C=n.getAttribute("data-remove-tag")||"Remove tag",e=i=>String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),r=()=>{let i=n.getAttribute("data-tags")||"";if(!i)return[];try{let l=Uint8Array.from(atob(i),a=>a.charCodeAt(0)),g=new TextDecoder("utf-8").decode(l),A=JSON.parse(g);return Array.isArray(A)?A:[]}catch{return[]}},u=i=>String(i||"").trim().toLowerCase().replace(/\s+/g,"-"),c=r().map(u).filter(Boolean),s=(new URLSearchParams(window.location.search).get("q")||"").trim().split(",").map(u).filter(Boolean),E=Array.from(t.querySelectorAll("li")),j=i=>{let l=i.querySelector("[data-tags]");return(l&&l.textContent||"").split("|").map(u).filter(Boolean)},I=(i,l)=>l.every(g=>i.includes(g)),M=async()=>{if(v)return v;if(!o)return null;if(!w)try{let l=await fetch(S);if(!l.ok)return null;w=await l.json()}catch{return null}if(!Array.isArray(w)||(window.Fuse||await new Promise((l,g)=>{if(document.querySelector(`script[src="${x}"]`))return l();let a=document.createElement("script");a.src=x,a.defer=!0,a.onload=()=>l(),a.onerror=()=>g(new Error("Failed to load Fuse")),document.head.appendChild(a)}).catch(()=>null),!window.Fuse))return null;let i={includeScore:!0,threshold:.3,ignoreLocation:!0,minMatchCharLength:2,keys:[{name:"title",weight:2},{name:"summary",weight:1},{name:"tags",weight:.75},{name:"content",weight:.25}]};return v=new window.Fuse(w,i),v},y=i=>{try{return new URL(i,window.location.origin).pathname}catch{return i}},p=async()=>{let i=o?String(o.value||"").trim():"",l=null;if(i){let a=await M();if(a){let q=a.search(i).slice(0,100);l=new Set(q.map(B=>y(B.item&&B.item.permalink||"")))}else l=new Set,w&&Array.isArray(w)&&w.forEach(q=>{String(q&&q.title?q.title:"").toLowerCase().includes(i.toLowerCase())&&l.add(y(q.permalink||""))})}let g=[],A=0;if(E.forEach(a=>{let q=j(a),B=s.length?I(q,s):!0,W=a.querySelector("a[href]"),_=W?y(W.getAttribute("href")||""):"",Q=!l||_&&l.has(_),J=B&&Q;a.style.display=J?"":"none",J&&(A+=1,g.push(q))}),o){let a=document.getElementById("blog-search-empty");a||(a=document.createElement("p"),a.id="blog-search-empty",a.innerHTML=`<small>${e(f)}</small>`,t.parentElement&&t.parentElement.insertBefore(a,t)),a.style.display=i&&A===0?"":"none"}return g},k=()=>{if(b)if(s.length){let i=s.map(l=>{let g=s.filter(a=>a!==l);return`<a class="active-tag" rel="nofollow" href="${g.length?`${d}?q=${encodeURIComponent(g.join(","))}`:d}" title="${e(C)}">#${e(l)}<span class="active-tag-x">\xD7</span></a>`}).join("");b.innerHTML=`<div class="active-filters">${i}<a class="clear-filters" rel="nofollow" href="${d}">${e(T)}</a></div>`}else b.innerHTML=""},$=()=>{let i=new Set;return E.forEach(l=>{let g=j(l);(!s.length||I(g,s))&&g.forEach(a=>i.add(a))}),i},H=()=>{let i=$(),l=c.filter(A=>!s.includes(A)&&i.has(A));n.innerHTML="";let g=document.createElement("a");g.rel="nofollow",g.href=`${d}?q=pot-of-honey`,g.textContent="#potofhoney",g.style.display="none",n.appendChild(g),n.appendChild(document.createTextNode(" ")),l.forEach(A=>{let a=document.createElement("a"),q=s.length?`${s.join(",")},${A}`:A;a.href=`${d}?q=${encodeURIComponent(q)}`,a.textContent=`#${A}`,a.rel="nofollow",n.appendChild(a),n.appendChild(document.createTextNode(" "))})};k(),H(),p(),o&&(o.addEventListener("focus",()=>{M()},{once:!0}),o.addEventListener("input",()=>{p()}))})()});})();
