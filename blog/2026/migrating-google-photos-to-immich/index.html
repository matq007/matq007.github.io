<!doctype html><html lang=en-us dir=ltr><head><script>(function(){var e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e)})()</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><title>Migrating Google Photos to Immich | Martin Proks</title><link rel=stylesheet href=/css/style.min.d523984b0917fb197985865addf99d7b456524ee84d66062293622af26027502.css integrity="sha256-1SOYSwkX+xl5hYZa3fmde0VlJO6E1mBiKTYiryYCdQI=" crossorigin=anonymous><link rel=stylesheet href=/css/custom.min.7305c69fb0969c75d5ef4ded7b6ac1720f3a74479d645a355d5dcae17a759d4d.css integrity="sha256-cwXGn7CWnHXV703te2rBcg86dEedZFo1XV3K4Xp1nU0=" crossorigin=anonymous><link rel=stylesheet href=/css/pygments-friendly.min.28135e6c0da5803b920fa8df2ca818e8bffa680293762a228fe96c10634a9662.css integrity="sha256-KBNebA2lgDuSD6jfLKgY6L/6aAKTdioij+lsEGNKlmI=" crossorigin=anonymous><script defer src=/js/main.a40195b6f9b3a8d8e9909bc9d54bd2e00b6094ae3afbe68734b5b111776e632e.js integrity="sha256-pAGVtvmzqNjpkJvJ1UvS4AtglK46++aHNLWxEXduYy4=" crossorigin=anonymous></script><script defer src=https://cloud.umami.is/script.js data-website-id=2abc48d3-fb15-4188-8a7f-8ce1fc758770></script></head><body><header><div class=site-header><a class=title href=/><h1>Martin Proks</h1></a><nav class=site-nav><a href=/>Home</a> <a href=/blog/>Blog</a> <a href=/projects>Projects</a> <a href=/about>About</a> <a href=/tags/>Tags</a><button class=theme-toggle type=button aria-label="Toggle theme" title="Toggle theme">
<svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
<svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></button></nav></div></header><main><article class=post><header class=post-header><h1 class=post-title>Migrating Google Photos to Immich</h1><p class=post-meta><time datetime=2026-01-11>11 Jan, 2026</time></p></header><div class=post-content><blockquote><p>TL;DR: This is a summary post of my experience migrating Google Photos to immich. Did you setup your reverse-proxy correctly? Spoiler alert, I didn&rsquo;t ü§¶‚Äç‚ôÇÔ∏è</p></blockquote><ol><li>Navigate to <a href=https://takeout.google.com>Google Takeout</a> and request all your Google Photos images. I suggest to use <code>tar</code> compression.</li><li>Download fantastic tool <a href=https://github.com/simulot/immich-go>immich-go</a>, which will import all photos including metadata, albums etc.</li><li>Generate an API KEY with specified permissions. For simplicity I&rsquo;ve generated a key with all permissions which I&rsquo;ve immediately deleted after import was finished.<div class=codeblock><div class=codeblock-actions><button type=button class="codeblock-action codeblock-action--wrap" data-wrap-toggle data-icon-button aria-pressed=false title="Enable soft wrap" data-wrap-title="Enable soft wrap" data-nowrap-title="Disable soft wrap">
<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M4 6h16M4 10h12a4 4 0 010 8h-2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/><path d="M14 18l-2-2m2 2-2 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
</button>
<button type=button class="codeblock-action codeblock-action--copy" data-copy-code data-icon-button title="Copy code" data-copied-title=COPIED>
<svg class="icon-copy" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
<svg class="icon-check" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M20 6 9 17l-5-5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div><div class=highlight><pre tabindex=0 class=chroma><code><span class=line><span class=cl><span class=c1># Import command from documentation</span>
</span></span><span class=line><span class=cl>./immich-go upload from-google-photos <span class=se>\
</span></span></span><span class=line><span class=cl>	--server<span class=o>=</span>http://10.0.0.103:2283 <span class=se>\ </span><span class=c1># only use hostname if you&#39;ve correctly configured reverse-proxy</span>
</span></span><span class=line><span class=cl>	--api-key<span class=o>=</span>&lt;API_KEY&gt; <span class=se>\
</span></span></span><span class=line><span class=cl>	~/Downloads/Takeout/Google<span class=se>\ </span>Photos/</span></span></code></pre></div></div></li><li>After successful import I&rsquo;ve used <a href=https://github.com/shtse8/Google-Photos-Delete-Tool>shtse8/Google-Photos-Delete-Tool</a> to delete all Google Photos, because the UI doesn&rsquo;t support selecting all photos in one go. I&rsquo;ve simply pasted the JS code in console and waited until all images were automatically selected and then clicked delete button.</li></ol><h2 id=troubleshooting-random-import-crashes>Troubleshooting random import crashes</h2><p>If like me (<a href=https://www.reddit.com/r/immich/comments/1ppzkr2/how_to_deal_with_large_files/>and many others</a>), you haven&rsquo;t properly configured your reverse-proxy, you probably experienced a random crash during importing. My initial thoughts were performance issue as described <a href=https://tsmith.com/blog/2025/immich-migration/>here</a>, however the error message was hinting on something else</p><div class=codeblock><div class=codeblock-actions><button type=button class="codeblock-action codeblock-action--wrap" data-wrap-toggle data-icon-button aria-pressed=false title="Enable soft wrap" data-wrap-title="Enable soft wrap" data-nowrap-title="Disable soft wrap">
<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M4 6h16M4 10h12a4 4 0 010 8h-2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/><path d="M14 18l-2-2m2 2-2 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
</button>
<button type=button class="codeblock-action codeblock-action--copy" data-copy-code data-icon-button title="Copy code" data-copied-title=COPIED>
<svg class="icon-copy" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
<svg class="icon-check" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M20 6 9 17l-5-5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div><div class=highlight><pre tabindex=0 class=chroma><code><span class=line><span class=cl><span class=n>io</span><span class=p>:</span> <span class=n>read</span><span class=o>/</span><span class=n>write</span> <span class=n>on</span> <span class=n>closed</span> <span class=n>pipe</span>
</span></span><span class=line><span class=cl><span class=mi>2026</span><span class=o>-</span><span class=mi>01</span><span class=o>-</span><span class=mi>10</span> <span class=mi>21</span><span class=p>:</span><span class=mi>45</span><span class=p>:</span><span class=mi>21</span> <span class=n>ERR</span> <span class=n>Error</span> <span class=n>err</span><span class=o>=</span><span class=n>AssetUpload</span><span class=p>,</span> <span class=n>POST</span><span class=p>,</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>immich</span><span class=o>.</span><span class=n>proks</span><span class=o>.</span><span class=n>top</span><span class=o>/</span><span class=n>api</span><span class=o>/</span><span class=n>assets</span><span class=p>,</span> <span class=mi>500</span> <span class=n>Internal</span> <span class=n>Server</span> <span class=n>Error</span></span></span></code></pre></div></div><p>When I&rsquo;ve restarted the upload, I&rsquo;ve peed on my reverse-proxy (<a href=https://nginxproxymanager.com>Nginx Proxy Manager</a>) and behold, my storage was just growing and growing while uploading a 4GB mp4 video. Well that&rsquo;s odd, why would my local storage grow, is it buffering the files before sending them to immich? Behold, the immich&rsquo;s <a href=https://docs.immich.app/administration/reverse-proxy/#nginx-example-config>documentation</a> couldn&rsquo;t be more clear ü§¶‚Äç‚ôÇÔ∏è</p><div class=codeblock><div class=codeblock-actions><button type=button class="codeblock-action codeblock-action--wrap" data-wrap-toggle data-icon-button aria-pressed=false title="Enable soft wrap" data-wrap-title="Enable soft wrap" data-nowrap-title="Disable soft wrap">
<svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M4 6h16M4 10h12a4 4 0 010 8h-2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/><path d="M14 18l-2-2m2 2-2 2" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
</button>
<button type=button class="codeblock-action codeblock-action--copy" data-copy-code data-icon-button title="Copy code" data-copied-title=COPIED>
<svg class="icon-copy" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="9" y="9" width="13" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2" fill="none"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"/></svg>
<svg class="icon-check" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M20 6 9 17l-5-5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg></button></div><div class=highlight><pre tabindex=0 class=chroma><code><span class=line><span class=cl><span class=nv>#</span> <span class=kr>disable</span> <span class=nv>buffering</span> <span class=nv>uploads</span> <span class=kr>to</span> <span class=nv>prevent</span> <span class=nv>OOM</span> <span class=kr>on</span> <span class=nv>reverse</span> <span class=kr>proxy</span> <span class=kr>server</span> <span class=kr>and</span> <span class=nv>make</span> <span class=nv>uploads</span> <span class=nv>twice</span> <span class=kr>as</span> <span class=nv>fast</span> <span class=p>(</span><span class=kr>no</span> <span class=kr>pause</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=nv>proxy_request_buffering</span> <span class=kr>off</span><span class=nv>;</span></span></span></code></pre></div></div><p>If you run the command with an IP address instead of hostname, you&rsquo;ve probably haven&rsquo;t experienced this issue, but if you are still fighting with your import, you might want to double check your reverse-proxy settings.</p></div><footer class=post-footer><div class=post-footer-row><div class=post-tags><a rel=nofollow href=/tags/blog%2Fnotes>#blog/notes</a><a rel=nofollow href=/tags/immich>#immich</a><a rel=nofollow href=/tags/blog%2Fhomelab>#blog/homelab</a></div></div></footer></article></main><footer><nav class=footer-links aria-label="Social links"><a href=/index.xml title=RSS aria-label=RSS>RSS</a><a href=https://github.com/matq007 title=GitHub aria-label=GitHub>GitHub</a><a href=https://x.com/mproksik title=X aria-label=X>X</a><a href=https://www.linkedin.com/in/martinproks title=LinkedIn aria-label=LinkedIn>LinkedIn</a></nav><p>&copy; 2026 Martin Proks ‚Äî Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a> & <a href=https://github.com/binbinsh/hugo-trainsh target=_blank>hugo-trainsh</a></p></footer><script>document.addEventListener("DOMContentLoaded",function(){var e,t,n=document.querySelector(".theme-toggle");if(n){function s(){var e=localStorage.getItem("theme");return e?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}n.addEventListener("click",function(){var t=s(),e=t==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)})}e=document.querySelector(".lang-dropdown"),e&&(t=e.querySelector(".lang-toggle"),t.addEventListener("click",function(n){n.stopPropagation(),e.classList.toggle("open"),t.setAttribute("aria-expanded",e.classList.contains("open"))}),document.addEventListener("click",function(n){e.contains(n.target)||(e.classList.remove("open"),t.setAttribute("aria-expanded","false"))}))})</script></body></html>